<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="site blá...">
    <meta name="author" content="Sérgio Ab'dala, and Bootstrap contributors">
    <title>projeto</title>
    <link rel="shortcut icon" href="./public/images/favicon.jpg" type="image/x-icon">
    <script src="https://use.fontawesome.com/0ab46577ba.js"></script>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="./public/bootstrap/bootstrap.css">
    <script src="./public/javascripts/popper.min.js"></script>
    <script src="./public/javascripts/bootstrap.min.js"></script>
    <meta name="theme-color" content="#7952b3">
    <style>
      .bd-placeholder-img {
          font-size: 1.125rem;
          text-anchor: middle;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          user-select: none;
      }

      @media (min-width: 768px) {
          .bd-placeholder-img-lg {
              font-size: 3.5rem;
          }
      }
      /* Carousel base class */
      .carousel {
        margin-bottom: 4rem;
      }

      /* Since positioning the image, we need to help out the caption */
      .carousel-caption {
        bottom: 3rem;
        z-index: 10;
      }

      /* Declare heights because of positioning of img element */
      .carousel-item {
        height: 32rem;
      }

      .carousel-item>img {
        position: absolute;
        top: 0;
        left: 0;
        min-width: 100%;
        height: 32rem;
      }
      /*--------------------------------*/
      footer{
          text-align: center;
          margin-top: 10px;
          margin-bottom: 25px;
      }
      .sobe{
        margin-top: -75px;
      }
    </style>

</head>

<body>
  
  <div class="container">

    <div class="row">
      
        <div id="myCarousel" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="./public/images/carrossel/img0.jpg" class="bd-placeholder-img" width="100%" height="100%" preserveAspectRatio="xMidYMid slice" role="img" focusable="false"/>
              
              <div class="container">
                <div class="carousel-caption text-left">
                  <h1>Carrossel Simples.</h1>
                  <p>Mussum Ipsum, cacilds vidis litro abertis. Admodum accumsan disputationi eu sit. Vide electram sadipscing et per. Per aumento de cachacis, eu reclamis. Paisis, filhis, espiritis santis. Cevadis im ampola pa arma uma pindureta.</p>
                  <p><a class="btn btn-lg btn-primary" href="#" role="button">botão</a></p>
                </div>
              </div>
            </div>
            <div class="carousel-item">
              <img src="./public/images/carrossel/img1.jpg" class="bd-placeholder-img" width="100%" height="100%" preserveAspectRatio="xMidYMid slice" role="img" focusable="false"/>
              
              <div class="container">
                <div class="carousel-caption">
                  <h1>imagem dois.</h1>
                  <p>Mussum Ipsum, cacilds vidis litro abertis. Admodum accumsan disputationi eu sit. Vide electram sadipscing et per. Per aumento de cachacis, eu reclamis. Paisis, filhis, espiritis santis. Cevadis im ampola pa arma uma pindureta.</p>
                  <p><a class="btn btn-lg btn-primary" href="#" role="button">clique 2</a></p>
                </div>
              </div>
            </div>
            <div class="carousel-item">
              <img src="./public/images/carrossel/img3.jpg" class="bd-placeholder-img" width="100%" height="100%" preserveAspectRatio="xMidYMid slice" role="img" focusable="false"/>
              
              <div class="container">
                <div class="carousel-caption text-right">
                  <h1>Mussum Ipsum, cacilds vidis litro abertis. Mauris nec dolor in eros commodo tempor.</h1>
                  <p>Mussum Ipsum, cacilds vidis litro abertis. Admodum accumsan disputationi eu sit. Vide electram sadipscing et per. Per aumento de cachacis, eu reclamis. Paisis, filhis, espiritis santis. Cevadis im ampola pa arma uma pindureta.</p>
                  <p><a class="btn btn-lg btn-primary" href="#" role="button">Cacildis</a></p>
                </div>
              </div>
            </div>
          </div>
          <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>
      
    </div>
    
    <div class="row" data-masonry='{"percentPosition": true }'>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card">
                <img id="fotoNasa" class="bd-placeholder-img card-img-top" width="100%" height="200"
                    aria-label="Placeholder: Image cap"
                    preserveAspectRatio="xMidYMid slice" role="img" focusable="false"/>
                    
                <div class="card-body">
                    <h5 id="tituloNasa" class="card-title">consumindo api da nasa...</h5>                    
                    <p id="textoNasa" class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante. Lorem ipsum dolor sit amet.</p>
                    <figcaption class="blockquote-footer mb-0 text-muted">
                      <a href="#" target="_blank" rel="noopener noreferrer" id="fthdNasa">foto hd...</a>
                      <br/>fonte nasa api...
                    </figcaption>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card p-3">
                <figure class="p-3 mb-0">
                    <blockquote class="blockquote">
                        <p id="paragrafoStarWars">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
                    </blockquote>
                    <figcaption class="blockquote-footer mb-0 text-muted">
                      <div class="input-group mb-3">
                        <!--span class="input-group-text" id="basic-addon1">@</span-->
                        <input id="inputStarWars" type="number" class="form-control" placeholder="Max 83" aria-label="Username" aria-describedby="basic-addon1">
                      </div>
                      <button id="btnStarWars" class="btn btn-primary">EXE</button>
                      &nbsp;&nbsp;&nbsp;fonte SW api
                    </figcaption>
                </figure>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card"><!-- rounded-circle -->
                <img id="fotoPoke" class="bd-placeholder-img card-img-top" width="100%" height="200"
                    src="http://www.w3.org/2000/svg" aria-label="Placeholder: Image cap"
                    preserveAspectRatio="xMidYMid slice" role="img" focusable="false"/>
                    
                <div class="card-body">
                  <h5 class="card-title" id="nomePoke">Card title</h5>
                  <!--p class="card-text">Mussum Ipsum, cacilds vidis litro abertis. Mauris nec dolor in eros commodo tempor.</p-->
                  <div class="input-group mb-3">
                    <input id="numPoke" type="text" class="form-control" placeholder="insert number" aria-label="Recipient's number" aria-describedby="basic-addon2">
                    <span class="input-group-text" id="basic-addon2" ><button id="btnPoke" class="btn btn-warning">EXE</button></span>
                  </div>
                  
                  <p class="card-text"><small class="text-muted">fonte pokeapi</small></p>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card bg-info text-white text-center p-3">
              <img id="ftClima" src="..." class="rounded-circle col-2 col-sm-3 col-lg-2 mb-2" alt="...">              
              <p id="cabeClima" class="sobe">cabeçalho</p>                              
              <figure class="mb-0">        
                  <blockquote class="blockquote">
                      <p id="txtClima">isso aqui  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat.</p>
                  </blockquote>
                  <figcaption id="rodapeClima" class="blockquote-footer mb-0 text-white">
                      Someone famous in <cite title="Source Title">Source Title</cite>
                  </figcaption>
              </figure>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card text-center">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This card has a regular title and short paragraph of text below it.</p>
                    <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card">
                <svg class="bd-placeholder-img card-img" width="100%" height="260"
                    xmlns="http://www.w3.org/2000/svg" aria-label="Placeholder: Card image"
                    preserveAspectRatio="xMidYMid slice" role="img" focusable="false">
                    <title>Placeholder</title>
                    <rect width="100%" height="100%" fill="#868e96" /><text x="50%" y="50%" fill="#dee2e6"
                        dy=".3em">Card image</text>
                </svg>

            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card p-3 text-right">
                <figure class="mb-0">
                    <blockquote class="blockquote">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p>
                    </blockquote>
                    <figcaption class="blockquote-footer mb-0 text-muted">
                        Someone famous in <cite title="Source Title">Source Title</cite>
                    </figcaption>
                </figure>
            </div>
        </div>
        <div class="col-sm-6 col-lg-4 mb-4">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This is another card with title and supporting text below. This card has
                        some additional content to make it slightly taller overall.</p>
                    <p class="card-text"><small class="text-muted">Last updated 3 mins ago</small></p>
                </div>
            </div>
        </div>
    </div>

    <footer>
      <i class="fa fa-copyright" aria-hidden="true"> Sérgio Abdala </i> <i class="fa fa-calendar" aria-hidden="true"> fevereiro 2022 </i>
    </footer>

  </div>

  <script>
    /*api da nasa*/
    const limit = 3;
    const key = 'e5sPV0KdKf8jmT7kgfBY9OyCCAWM6xdJaZIJc56e';
    const urlNasa = `https://api.nasa.gov/planetary/apod?api_key=${key}`;
    var cont = 0;
    function nasa(url){
      fetch(url)
      .then(response => response.json())
      .then((data) => {
        cont++;
        console.log('Nasa data:');
        console.log(data);
        /*-----------------------*/
        if (data.code == 500) {
          document.getElementById('tituloNasa').innerHTML = data.msg;
          document.getElementById('textoNasa').innerHTML = 'falha na tentativa: '+cont+'...';
          if (cont < 3) {
            nasa(urlNasa);
          }else{
            document.getElementById('textoNasa').innerHTML += '<br/>limite de '+cont+' tentativas atingido...';
          }
        }else{
          document.getElementById('tituloNasa').innerHTML = data.title;
          document.getElementById('textoNasa').innerHTML = data.explanation.substring(0,110) +'...';
          document.getElementById('fotoNasa').src = data.url;
          document.getElementById('fthdNasa').href = data.hdurl;
          document.getElementById('fthdNasa').innerHTML = 'foto em HD: <cite title="Source Title">'+data.copyright+'</cite>';
        }        
      })
      .catch((erro)=> {
          console.log('Nasa erro:');
          console.log(erro.message);
      })
    }
    nasa(urlNasa);

    /*api starWars*/
    function personagem(num){
        //document.getElementById('paragrafoStarWars').innerHTML = '';//limpa tela
            //people/83 => maximo
        fetch(`https://swapi.dev/api/people/`+num)
        .then((response) => response.json())
        .then((data) => {
            console.log(data);
            document.getElementById('paragrafoStarWars').innerHTML = data.name +'<br/>Sexo: '+data.gender+'<br/>peso: '+data.mass+'kg';
            //planeta natal
            /*/planeta(data.homeworld);
            //filmes array
            document.getElementById('principal').innerHTML += '<div class="row"> <div class="col-xs-6" id="filmes"><h3>filmes:</h3> </div> <div class="col-xs-6" id="veiculos">  <div class="row"> <div class="col-xs-12" id="starship"> <h3>naves estelares</h3> </div><div class="col-xs-12" id="terrestre"> <h3>veiculos terrestres</h3> </div> </div> </div>';
            data.films.forEach(element => {                
                filme(element);
            });
            data.starships.forEach(nv => {
                starship(nv);
            });
            data.vehicles.forEach(v => {
                veiculo(v);
            })*/
        })
        .catch((err) => {
            console.log('erro:');
            console.log(err);
        })
    }
    personagem(1);
    document.getElementById('btnStarWars').addEventListener('click',()=>{
        //alert(document.getElementById('numero').value);
        personagem(document.getElementById('inputStarWars').value);
    });
    //pokemon
    function pokemon(num) {
            fetch('https://pokeapi.co/api/v2/pokemon/'+num)
            .then(result => result.json())
            .then(pokemon => {
                console.log(pokemon);
                console.log(pokemon.name);
                document.getElementById('nomePoke').innerHTML = pokemon.name;
                document.getElementById('fotoPoke').src = pokemon.sprites.other.dream_world.front_default;//pokemon.sprites.other.home.front_default;
            })
            .catch((err) => {
                console.log(err);
            });
    }
    pokemon(25);/*min 1 ~ max 898*/
    document.getElementById('btnPoke').addEventListener('click',()=>{
        pokemon(document.getElementById('numPoke').value);
    });
    //clima tempo http://api.weatherstack.com/current?access_key=71aa04217b0ebecc9a233bb3302367b1&query=
    const climaKey = '71aa04217b0ebecc9a233bb3302367b1';
    const climaUrl = 'http://api.weatherstack.com/current?access_key='+climaKey+'&query=';
    var contemp = 0;
    function clima(cidade){
      fetch(climaUrl + cidade)      
      .then(result => result.json())
      .then(dados => {
        //imprime na tela
        document.getElementById('ftClima').src = dados.current.weather_icons[0];
        document.getElementById('txtClima').innerHTML = dados.location.name +' '+ dados.current.temperature +'ºC';
        document.getElementById('rodapeClima').innerHTML = dados.location.region;
        document.getElementById('cabeClima').innerHTML = dados.current.weather_descriptions[0];
        console.log(dados.location.name +' <==> '+dados.location.region);
      })
    }
    clima('charqueadas');
  </script>
  <script async src="./public/javascripts/mansory.min.js"></script>
</body>

</html>